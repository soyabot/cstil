
multitasking
cpu에 어떤 프로그램이 얼마만큼 실행 스케줄링
운영체제가 스케줄링을 수행하고, cpu를 최대한 사용하면서 작업이 골고루 수행될 수 있게 최적화

멀티프로세싱
cpu코어가 둘이상이면?
abc 3가지 이고, cpu코어는
컴퓨터 시스템에서 둘 이상의 프로세서 (cpu 코어)를 사용하여 여러 작업을 동시에 처리하는 기술 멀티프로세싱은 시스템 하나의 cpu코어만을 사용하는 시스템보다 동시에 더 많은 작업을 처리

멀티프로세싱 vs 멀티태스킹
-멀티프로세싱은 하드웨어 장비관점, 멀티태스킹은 운영체제 소프트웨어의 관점
-멀티프로세싱
여러 cpu(여러 cpu코어)를 사용하여 동시에 여러작업을 수행
하드웨어 기반으로 성능향상
다중코어 프로세서를 사용하는 현대 컴퓨터시스템
-멀티태스킹
- 단일 CPU(단일 cpu코어)가 여러 작업을 동시에 수행하는 것 처럼 보이게 하는 것
- 소프트웨어 기반으로cpu 시간을 분할하여 각 작업에 할당
- 현대 운영체제에서 여러 애플리케이션이 동시에 실행

프로세스와 스레드

프로세스
- 프로그램은 실행하기 전까지 단순한 파일
- 프로그램을 실행하면 프로세스가 만들어지고 프로그램이 실행
- 운영체제 안에서 실행중인 프로그램 : 프로세스
- 프로세스는 실행중인 프로그램의 인스턴스이다

프로세스: 실행 중인 프로그램의 인스턴스
독립적인 메모리 공간, 운영체제에서 별도의 작업 단위로 분리돼서 관리된다. 각 프로세스는 별도의 메모리 공간을 갖고 있기 때문에 간섭하지 않는다.

코드섹션: 실행할 프로그램의 코드가 저장
데이터 섹션: 전역 변수 및 정적 변수가 저장되는 부분
힙:동적으로 할당되는 메모리 영역
스택: 메서드 호출 시 생성 되는 지역 변수와 반환 주소가 저장되는 영역 (스레드에 포함)

스레드는 프로세스보다 단순하므로 생성 및 관리가 단순하고 가볍다

공유메모리: 같은 프로세스의 코드 섹션, 데이터 섹션, 힙(메모리)는 프로세스 안의 모든 스레드가 공유한다

개별스택: 각 스레드는 자신의 스택을 갖고 있다

- 프로그램이 실행된다는 것은 어떤 의미일까


```java
public class Operator {

public statioc void main(string[] args)
{
	int sum1=1;
	int sum2= sum1+1;
	System.out.println("sun1"=sum1);
	
	System.out.println("sun2"=sum2);

}
}
```

프로그램이 실행된다는 것은 어떤의미?

- 먼저 디스크에 있는 파일 덩어리인 프로그램을 메모리에 불러오면서 프로세스를 만든다
- 프로그램이 실행된다는 것은 사실 프로세스 안에 있는 코드가 한 줄씩 실행되는 것이다

- 하나씩 실행하면서 내려가는 것의 정체가 무엇일까?
- 비유를 하자면 마치 thread 같은것이 아래로 하나씩 꿰면서 하나씩 내려가는 것과같다

스레드는 프로세스 내에서 실행되는 작업의 단위이다 

한 프로세스 내에 하나의 스레드가 존재할 수 있고, 한 프로세스내에 여러 스레드가 존재할 수 도 있다 .

- 단일 스레드 : 한 프로세스 내에서 하나의 스레드만 존재
- 멀티 스레드: 한 프로세스 내에서 여러 스레드가 존재

멀티스레드가 필요한이ㅠ
- 하나의 프로그램도 그 안에서 동시에 여러 작업이 필요하다
운영체제 관점
	- 워드 프로그램 - 프로세스 A
	- 스레드 1 : 문서 편집
	- 스레드 2 : 자동저장
	- 스레드 3: 맞춤법 검사
	- 유튜브- 프로세스B
	- 스레드1: 영상 재생
	- 스레드2:댓글

# 스레드와 스케줄링
- 앞서 멀티태스킹에서 설명한 운영체제의 스케줄링 과정을 더 자세히 알아보자
- -cpu 코어는 1개이고, 프로세스는 2개이다. 프로세스 A는 스레드 1개 프로세스 B는 스레드가 2개있다
- 프로세스는 실행 환경과 자원을 제공하는 컨테이너 역할을 하고, 실제cpu를 사용해서 코드를 하나 하나 실행하는 것은 스레드이다


- 프로세스 A에 있는 스레드 A1을 실행한다
- 프로세스 A에 있는 스레드 A1의 실행을 잠시 멈추고 프로세스 B에 있는 스레드 B1을 실행한다
- 프로세스 B에있는 스레드 B1의 실행을 잠시 멈추고 같은 프로세스의 스레드 B2를 실행한다
- 이후에 프로세스 A에 있는 스레드 A1을 실행하나다

# 단일 코어 스케줄링

-운영체제가 스레드를 어떻게 스케줄링 하는지, 스케줄링 관점으로 알아보자
운영체제는 내부에 스케줄링 큐를 가지고 있고, 각각의 스레드는 스케줄링 큐에서 대기한다

# 멀티 코어 스케줄링
-cpu 코어가 2개 이상이면 한 번에 더 많은 스레드를 물리적으로 진짜 동시에 실행할 수 있다

summary

-멀티태스킹과 스케줄링
멀티태스킹이란 동시에 여러 작업을 수행하는 것을 말한다. 이를 위해 운영체제는 스케줄링이라는 기법을 사용한다. 스케줄링은 cpu시간을 여러 작업에 배분하는 방법이다

프로세스 스레드
- 프로세스는 실행 중인 프로그램의 인스턴스이다. 각 프로세스는 독립적인 메모리 공간을 가지며, 운영체제에서 독립된 실행단위로 취급한다
- 스레드는 프로세스 내에서 실행되는 작은 단위이다. 여러 스레드는 하나의 프로세스 내에서 자원을 공유하며, 프로세스와 코드, 데이터 ,시스템 자원등을 공유한다.실제로 cpu에 의해 실행되는 단위는 스레드이다


프로세스의 역할
- 프로세스는 실행 환경을 제공한다. 여기에는 메모리 공간, 파일 핸들, 시스템 자원(네트워크 연결)등이 포함 된다. 이는 프로세스가 컨테이너 역할을한다는 의미이다
- 프로세스 자체는 운영체제의 스케줄러에의해 직접 실행되지 않으며, 프로세스 내의 스레드가 실행된다. 참고로 1개의 프로세스 안에 하나의 스레드만 실행되는 경우도 있고, 1개의 프로세스 안에 여러 스레드가 실행되는 경우가 있다

